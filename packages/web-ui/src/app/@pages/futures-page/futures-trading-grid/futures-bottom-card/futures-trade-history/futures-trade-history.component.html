<table mat-table [dataSource]="relayedHistory">
  <!-- Block -->
  <ng-container matColumnDef="block">
    <th mat-header-cell *matHeaderCellDef> Block </th>
    <td mat-cell *matCellDef="let r">{{ r.block }}</td>
  </ng-container>

  <!-- Side -->
  <ng-container matColumnDef="side">
    <th mat-header-cell *matHeaderCellDef> Side </th>
    <td mat-cell *matCellDef="let r">{{ r.side }}</td>
  </ng-container>

  <!-- Amount -->
  <ng-container matColumnDef="amount">
    <th mat-header-cell *matHeaderCellDef> Amount </th>
    <td mat-cell *matCellDef="let r">{{ r.amount | number:'1.0-8' }}</td>
  </ng-container>

  <!-- Price -->
  <ng-container matColumnDef="price">
    <th mat-header-cell *matHeaderCellDef> Price </th>
    <td mat-cell *matCellDef="let r">{{ r.price | number:'1.0-8' }}</td>
  </ng-container>

  <!-- Fee -->
  <ng-container matColumnDef="fee">
    <th mat-header-cell *matHeaderCellDef> Fee </th>
    <td mat-cell *matCellDef="let r">
      <ng-container *ngIf="r.fee !== undefined; else dash"> {{ r.fee }} </ng-container>
      <ng-template #dash>-</ng-template>
    </td>
  </ng-container>

  <!-- PNL (accounting) -->
  <ng-container matColumnDef="pnl">
    <th mat-header-cell *matHeaderCellDef> PNL </th>
    <td mat-cell *matCellDef="let r">
      <ng-container *ngIf="r.pnl !== undefined; else dash"> {{ r.pnl | number:'1.0-8' }} </ng-container>
      <ng-template #dash>-</ng-template>
    </td>
  </ng-container>

  <!-- Tx -->
  <ng-container matColumnDef="tx">
    <th mat-header-cell *matHeaderCellDef> Tx </th>
    <td mat-cell *matCellDef="let r">
      <a *ngIf="txUrl(r) as url" [href]="url" target="_blank" rel="noopener">
        {{ shortTx(r.txid) }}
      </a>
      <span *ngIf="!txUrl(r)">{{ shortTx(r.txid) }}</span>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
